[{"permalink":"//","layout":"default","title":"Página Proyectos de José Juan","content":"# Página Proyectos de José Juan ","dir":"/","name":"README.md","path":"README.md","url":"/"},{"permalink":"/bbdd/","layout":"default","title":"BASE DE DATOS","content":"# BASE DE DATOS\n\n## Apartado de Administración de Sistemas Gestores de Bases de Datos de José Juan Hervás Carrasco.","dir":"/bbdd/","name":"README.md","path":"bbdd/README.md","url":"/bbdd/"},{"layout":"default","title":"INTERCONEXIÓN DE SERVIDORES","content":"# INTERCONEXIÓN DE SERVIDORES\n\n## Introducción\n\nEn esta práctica veremos varias formas de crear un enlace entre distintos servidores de bases de datos.\n\nSe pide:\n\n- Realizar un enlace entre dos servidores de bases de datos ORACLE, explicando la configuración necesaria en ambos extremos y demostrando su funcionamiento.\n \n- Realizar un enlace entre dos servidores de bases de datos Postgres, explicando la configuración necesaria en ambos extremos y demostrando su funcionamiento.\n \n- Realizar un enlace entre un servidor ORACLE y otro Postgres empleando Heterogeneus Services, explicando la configuración necesaria en ambos extremos y demostrando su funcionamiento.\n\n## Interconexión entre dos servidores Oracle.\n\nLo primero que haremos en este punto es crear dos bases de datos en cada uno de los servidores de oracle y las conectaremos entre sí. Para ello seguiremos los correspondientes pasos:\n\n- Primero creamos un usuario en la maquina oracle1 otorgandole todos los privilegios:\n\n ```sql\n SQL> CREATE USER joseju10 IDENTIFIED BY joseju10;\n\n Usuario creado.\n\n SQL> GRANT ALL PRIVILEGES TO joseju10;\n\n Concesion terminada correctamente.\n ```\n\n- Posteriormente, nos conectamos al usuario recién creado:\n\n ```sql\n SQL> DISCONNECT\n Desconectado de Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\n Version 19.3.0.0.0\n SQL> CONNECT joseju10/joseju10\n Conectado.\n ```\n\n- Crearemos una base de datos de ejemplo, en este caso el esquema SCOTT:\n\n ```sql\n CREATE TABLE DEPT\n (\n DEPTNO NUMBER(2),\n DNAME VARCHAR2(14),\n LOC VARCHAR2(13),\n CONSTRAINT PK_DEPT PRIMARY KEY (DEPTNO)\n );\n\n CREATE TABLE EMP\n (\n EMPNO NUMBER(4),\n ENAME VARCHAR2(10),\n JOB VARCHAR2(9),\n MGR NUMBER(4),\n HIREDATE DATE,\n SAL NUMBER(7, 2),\n COMM NUMBER(7, 2),\n DEPTNO NUMBER(2),\n CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO),\n CONSTRAINT PK_EMP PRIMARY KEY (EMPNO)\n );\n\n INSERT INTO DEPT VALUES (10, 'ACCOUNTING', 'NEW YORK');\n INSERT INTO DEPT VALUES (20, 'RESEARCH', 'DALLAS');\n INSERT INTO DEPT VALUES (30, 'SALES', 'CHICAGO');\n INSERT INTO DEPT VALUES (40, 'OPERATIONS', 'BOSTON');\n\n INSERT INTO EMP VALUES(7369, 'SMITH', 'CLERK', 7902,TO_DATE('17-DIC-1980', 'DD-MON-YYYY'), 800, NULL, 20);\n INSERT INTO EMP VALUES(7499, 'ALLEN', 'SALESMAN', 7698,TO_DATE('20-FEB-1981', 'DD-MON-YYYY'), 1600, 300, 30);\n INSERT INTO EMP VALUES(7521, 'WARD', 'SALESMAN', 7698,TO_DATE('22-FEB-1981', 'DD-MON-YYYY'), 1250, 500, 30);\n INSERT INTO EMP VALUES(7566, 'JONES', 'MANAGER', 7839,TO_DATE('2-ABR-1981', 'DD-MON-YYYY'), 2975, NULL, 20);\n INSERT INTO EMP VALUES(7654, 'MARTIN', 'SALESMAN', 7698,TO_DATE('28-SEP-1981', 'DD-MON-YYYY'), 1250, 1400, 30);\n INSERT INTO EMP VALUES(7698, 'BLAKE', 'MANAGER', 7839,TO_DATE('1-MAY-1981', 'DD-MON-YYYY'), 2850, NULL, 30);\n INSERT INTO EMP VALUES(7782, 'CLARK', 'MANAGER', 7839,TO_DATE('9-JUN-1981', 'DD-MON-YYYY'), 2450, NULL, 10);\n INSERT INTO EMP VALUES(7788, 'SCOTT', 'ANALYST', 7566,TO_DATE('09-DIC-1982', 'DD-MON-YYYY'), 3000, NULL, 20);\n INSERT INTO EMP VALUES(7839, 'KING', 'PRESIDENT', NULL,TO_DATE('17-NOV-1981', 'DD-MON-YYYY'), 5000, NULL, 10);\n INSERT INTO EMP VALUES(7844, 'TURNER', 'SALESMAN', 7698,TO_DATE('8-SEP-1981', 'DD-MON-YYYY'), 1500, 0, 30);\n INSERT INTO EMP VALUES(7876, 'ADAMS', 'CLERK', 7788,TO_DATE('12-ENE-1983', 'DD-MON-YYYY'), 1100, NULL, 20);\n INSERT INTO EMP VALUES(7900, 'JAMES', 'CLERK', 7698,TO_DATE('3-DIC-1981', 'DD-MON-YYYY'), 950, NULL, 30);\n INSERT INTO EMP VALUES(7902, 'FORD', 'ANALYST', 7566,TO_DATE('3-DIC-1981', 'DD-MON-YYYY'), 3000, NULL, 20);\n INSERT INTO EMP VALUES(7934, 'MILLER', 'CLERK', 7782,TO_DATE('23-ENE-1982', 'DD-MON-YYYY'), 1300, NULL, 10);\n\n COMMIT;\n ```\n\nRealizamos el mismo procedimiento en oracle2, creando el usuario joseju20, y el esquema SCOTT modificando los inserts:\n\n- Creo usuario:\n\n ```sql\n SQL> CREATE USER joseju20 IDENTIFIED BY joseju20;\n\n Usuario creado.\n\n SQL> GRANT ALL PRIVILEGES TO joseju20;\n\n Concesion terminada correctamente.\n ```\n\n- Nos conectamos al usuario y creamos la siguiente base de datos:\n\n ```sql\n CREATE TABLE DEPT\n (\n DEPTNO NUMBER(2),\n DNAME VARCHAR2(14),\n LOC VARCHAR2(13),\n CONSTRAINT PK_DEPT PRIMARY KEY (DEPTNO)\n );\n\n CREATE TABLE EMP\n (\n EMPNO NUMBER(4),\n ENAME VARCHAR2(10),\n JOB VARCHAR2(9),\n MGR NUMBER(4),\n HIREDATE DATE,\n SAL NUMBER(7, 2),\n COMM NUMBER(7, 2),\n DEPTNO NUMBER(2),\n CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO),\n CONSTRAINT PK_EMP PRIMARY KEY (EMPNO)\n );\n\n INSERT INTO DEPT VALUES (50, 'RECOUNTING', 'MIAMI');\n INSERT INTO DEPT VALUES (60, 'SEARCH', 'FLORIDA');\n INSERT INTO DEPT VALUES (70, 'SHELLS', 'NEW JERSEY');\n INSERT INTO DEPT VALUES (80, 'OPTIONS', 'WASHINTON');\n\n INSERT INTO EMP VALUES(7379, 'LEON', 'EMPLOY', 7902,TO_DATE('18-DIC-1980', 'DD-MON-YYYY'), 800, NULL, 60);\n INSERT INTO EMP VALUES(7419, 'NEIL', 'SALESMAN', 7698,TO_DATE('21-FEB-1981', 'DD-MON-YYYY'), 1600, 300, 80);\n INSERT INTO EMP VALUES(7531, 'RICKY', 'SALESMAN', 7698,TO_DATE('23-FEB-1981', 'DD-MON-YYYY'), 1250, 500, 80);\n INSERT INTO EMP VALUES(7576, 'STONE', 'MANAGER', 7839,TO_DATE('3-ABR-1981', 'DD-MON-YYYY'), 2975, NULL, 70);\n INSERT INTO EMP VALUES(7664, 'NAVARRO', 'SALESMAN', 7698,TO_DATE('29-SEP-1981', 'DD-MON-YYYY'), 1250, 1400, 80);\n INSERT INTO EMP VALUES(7618, 'JAKE', 'MANAGER', 7839,TO_DATE('2-MAY-1981', 'DD-MON-YYYY'), 2850, NULL, 80);\n INSERT INTO EMP VALUES(7792, 'CLEIRK', 'MANAGER', 7839,TO_DATE('10-JUN-1981', 'DD-MON-YYYY'), 2450, NULL, 50);\n INSERT INTO EMP VALUES(7798, 'STITS', 'ANALYST', 7566,TO_DATE('8-DIC-1982', 'DD-MON-YYYY'), 3000, NULL, 60);\n INSERT INTO EMP VALUES(7899, 'REPS', 'PRESIDENT', NULL,TO_DATE('1-NOV-1981', 'DD-MON-YYYY'), 5000, NULL, 50);\n INSERT INTO EMP VALUES(7854, 'TURNOR', 'SALESMAN', 7698,TO_DATE('18-SEP-1981', 'DD-MON-YYYY'), 1500, 0, 70);\n INSERT INTO EMP VALUES(7886, 'EVA', 'CLERK', 7788,TO_DATE('1-ENE-1983', 'DD-MON-YYYY'), 1100, NULL, 60);\n INSERT INTO EMP VALUES(7910, 'PETER', 'CLERK', 7698,TO_DATE('13-DIC-1981', 'DD-MON-YYYY'), 950, NULL, 80);\n INSERT INTO EMP VALUES(7912, 'HENRY', 'ANALYST', 7566,TO_DATE('23-DIC-1981', 'DD-MON-YYYY'), 3000, NULL, 60);\n INSERT INTO EMP VALUES(7944, 'MULLER', 'CLERK', 7782,TO_DATE('3-ENE-1982', 'DD-MON-YYYY'), 1300, NULL, 50);\n\n COMMIT;\n ```\n\nUna vez hemos creado los respectivos usuarios con cada base de datos, procederemos a conectar nuestro oracle1 con oracle2, para ello haremos lo siguiente:\n\n- Compruebo la conectividad de oracle1 a oracle2:\n\n ```sql\n oracle@oracle:~$ tnsping 192.168.1.19\n\n TNS Ping Utility for Linux: Version 19.0.0.0.0 - Production on 23-NOV-2022 12:55:11\n\n Copyright (c) 1997, 2019, Oracle. All rights reserved.\n\n\n Used parameter files:\n /opt/oracle/product/19c/dbhome_1/network/admin/sqlnet.ora\n\n Used HOSTNAME adapter to resolve the alias\n Attempting to contact (DESCRIPTION=(CONNECT_DATA=(SERVICE_NAME=))(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.1.19)(PORT=1521)))\n OK (10 msec)\n ```\n\n- Como hemos podido comprobar, tenemos conectividad, con lo que procederemos a modificar el fichero de configuración /opt/oracle/product/19c/dbhome_1/network/admin/tnsnames.ora añadiendo la siguiente línea para indicar el servidor de oracle2:\n\n ```shell\n ORACLE2 =\n (DESCRIPTION =\n (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.1.19)(PORT = 1521))\n (CONNECT_DATA =\n (SERVER = DEDICATED)\n (SERVICE_NAME = ORCLCDB)\n )\n )\n ```\n\n- Ahora, iniciamos sesión con nuestro usuario creado anteriormente y ejecutamos el siguiente comando para establecer la conexión con oracle2:\n\n ```sql\n oracle@oracle:~$ sqlplus joseju10/joseju10\n\n SQL*Plus: Release 19.0.0.0.0 - Production on Wed Nov 23 13:39:07 2022\n Version 19.3.0.0.0\n\n Copyright (c) 1982, 2019, Oracle. All rights reserved.\n\n Hora de Ultima Conexion Correcta: Mie Nov 23 2022 12:47:31 +01:00\n\n Conectado a:\n Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\n Version 19.3.0.0.0\n\n SQL> CREATE DATABASE LINK oracle2link\n CONNECT TO joseju20 IDENTIFIED BY joseju20\n USING 'oracle2';\n\n Enlace con la base de datos creado.\n ```\n\nAhora conectaremos la base oracle2 con oracle1, para ello volvemos a realizar el mismo procedimiento:\n\n- Comprobamos la conectividad de oracle2 a oracle1:\n\n ```shell\n oracle@oracle2:~$ tnsping 192.168.1.43\n\n TNS Ping Utility for Linux: Version 19.0.0.0.0 - Production on 23-NOV-2022 14:12:10\n\n Copyright (c) 1997, 2019, Oracle. All rights reserved.\n\n Used parameter files:\n /opt/oracle/product/19c/dbhome_1/network/admin/sqlnet.ora\n\n Used HOSTNAME adapter to resolve the alias\n Attempting to contact (DESCRIPTION=(CONNECT_DATA=(SERVICE_NAME=))(ADDRESS=(PROTOCOL=tcp)(HOST=192.168.1.43)(PORT=1521)))\n OK (20 msec)\n ```\n\n- Añadimos esta línea en el fichero tnnames.ora de la máquina oracle2:\n\n ```shell\n ORACLE1 =\n (DESCRIPTION =\n (ADDRESS = (PROTOCOL = TCP)(HOST = 192.168.1.43)(PORT = 1521))\n (CONNECT_DATA =\n (SERVER = DEDICATED)\n (SERVICE_NAME = ORCLCDB)\n )\n )\n ```\n\n- Interconectamos la base de oracle1 con oracle2:\n\n ```sql\n oracle@oracle2:~$ sqlplus joseju20/joseju20\n\n SQL*Plus: Release 19.0.0.0.0 - Production on Wed Nov 23 13:49:56 2022\n Version 19.3.0.0.0\n\n Copyright (c) 1982, 2019, Oracle. All rights reserved.\n\n Hora de Ultima Conexion Correcta: Mie Nov 23 2022 13:35:00 +01:00\n\n Conectado a:\n Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\n Version 19.3.0.0.0\n\n SQL> CREATE DATABASE LINK oracle1link\n CONNECT TO joseju10 IDENTIFIED BY joseju10\n USING 'oracle1';\n\n Enlace con la base de datos creado.\n ```\n\n- Ahora para comprobar que todo funciona, desde oracle1 haremos una consulta a la tabla dept de oracle2:\n\n ```sql\n SQL> select *\n 2 from dept@oracle2link;\n\n DEPTNO DNAME\t LOC\n ---------- -------------- -------------\n 50 RECOUNTING MIAMI\n 60 SEARCH\t FLORIDA\n 70 SHELLS\t NEW JERSEY\n 80 OPTIONS\t WASHINTON\n ```\n\n- Realizamos la misma prueba desde oracle2 hasta oracle1:\n\n ```sql\n SQL> select * \n 2 from dept@oracle1link;\n\n DEPTNO DNAME\t LOC\n ---------- -------------- -------------\n 10 ACCOUNTING\t NEW YORK\n 20 RESEARCH\t DALLAS\n 30 SALES\t CHICAGO\n 40 OPERATIONS\t BOSTON\n ```\n\n## Interconexión entre dos servidores de datos Postgres.\n\nLo primero que haremos en este punto es crear dos bases de datos en cada uno de los servidores de postgres y las conectaremos entre sí. Para ello seguiremos los correspondientes pasos:\n\n- Primero creamos la base de datos en postgres1:\n\n ```sql\n postgres@postgres1:~$ psql\n psql (13.8 (Debian 13.8-0+deb11u1))\n Digite «help» para obtener ayuda.\n\n postgres=# CREATE DATABASE postgres1;\n CREATE DATABASE\n ```\n\n- Seguidamente, creamos el usuario \"postgres1\" y le damos privilegios sobre la base de datos creada anteriormente:\n\n ```sql\n postgres=# CREATE USER postgres1 WITH PASSWORD 'postgres';\n CREATE ROLE\n postgres=# GRANT ALL PRIVILEGES ON DATABASE postgres1 TO postgres1;\n GRANT\n ```\n\n- Ahora procedemos a acceder con el usuario recién creado:\n\n ```sql\n postgres@postgres1:~$ psql -h localhost -U postgres1 -d postgres1\n Contraseña para usuario postgres1: \n psql (13.8 (Debian 13.8-0+deb11u1))\n Conexión SSL (protocolo: TLSv1.3, cifrado: TLS_AES_256_GCM_SHA384, bits: 256, compresión: desactivado)\n Digite «help» para obtener ayuda.\n\n postgres1=>\n ```\n\n- Y creamos la tablas con su correspondiente información:\n\n ```sql\n postgres1=> CREATE TABLE DEPT\n (DEPTNO NUMERIC(2),\n DNAME VARCHAR(14),\n LOC VARCHAR(13),\n CONSTRAINT PK_DEPT PRIMARY KEY (DEPTNO));\n CREATE TABLE\n\n postgres1=> postgres1=> CREATE TABLE EMP\n (EMPNO NUMERIC(4),\n ENAME VARCHAR(10),\n JOB VARCHAR(9),\n MGR NUMERIC(4),\n HIREDATE DATE,\n SAL NUMERIC(7, 2),\n COMM NUMERIC(7, 2),\n DEPTNO NUMERIC(2),\n CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO),\n CONSTRAINT PK_EMP PRIMARY KEY (EMPNO));\n CREATE TABLE\n\n postgres1=> INSERT INTO DEPT VALUES (10, 'ACCOUNTING', 'NEW YORK');\n INSERT INTO DEPT VALUES (20, 'RESEARCH', 'DALLAS');\n INSERT INTO DEPT VALUES (30, 'SALES', 'CHICAGO');\n INSERT INTO DEPT VALUES (40, 'OPERATIONS', 'BOSTON');\n\n postgres1=> INSERT INTO EMP VALUES(7499, 'ALLEN', 'SALESMAN', 7698,TO_DATE('20-FEB-1981', 'DD-MON-YYYY'), 1600, 300, 30);\n INSERT INTO EMP VALUES(7521, 'WARD', 'SALESMAN', 7698,TO_DATE('22-FEB-1981', 'DD-MON-YYYY'), 1250, 500, 30);\n INSERT INTO EMP VALUES(7654, 'MARTIN', 'SALESMAN', 7698,TO_DATE('28-SEP-1981', 'DD-MON-YYYY'), 1250, 1400, 30);\n INSERT INTO EMP VALUES(7698, 'BLAKE', 'MANAGER', 7839,TO_DATE('1-MAY-1981', 'DD-MON-YYYY'), 2850, NULL, 30);\n INSERT INTO EMP VALUES(7782, 'CLARK', 'MANAGER', 7839,TO_DATE('9-JUN-1981', 'DD-MON-YYYY'), 2450, NULL, 10);\n INSERT INTO EMP VALUES(7839, 'KING', 'PRESIDENT', NULL,TO_DATE('17-NOV-1981', 'DD-MON-YYYY'), 5000, NULL, 10);\n INSERT INTO EMP VALUES(7844, 'TURNER', 'SALESMAN', 7698,TO_DATE('8-SEP-1981', 'DD-MON-YYYY'), 1500, 0, 30);\n ```\n\nAhora procederemos a hacer lo mismo en postgres2:\n\n- Creamos base de datos:\n\n ```sql\n postgres@postgres2:~$ psql\n psql (13.8 (Debian 13.8-0+deb11u1))\n Digite «help» para obtener ayuda.\n\n postgres=# CREATE DATABASE postgres2;\n CREATE DATABASE\n ```\n\n- Creamos el usuario:\n\n ```sql\n postgres=# CREATE USER postgres2 WITH PASSWORD 'postgres';\n CREATE ROLE\n postgres=# GRANT ALL PRIVILEGES ON DATABASE postgres2 TO postgres2;\n GRANT\n ```\n\n- Accedemos con el usuario recién creado:\n\n ```sql\n postgres@postgres2:~$ psql -h localhost -U postgres2 -d postgres2\n Contraseña para usuario postgres2: \n psql (13.8 (Debian 13.8-0+deb11u1))\n Conexión SSL (protocolo: TLSv1.3, cifrado: TLS_AES_256_GCM_SHA384, bits: 256, compresión: desactivado)\n Digite «help» para obtener ayuda.\n\n postgres2=>\n ```\n\n- Y creamos las tablas con su correspondiente información:\n\n ```sql\n postgres2=> CREATE TABLE DEPT\n (DEPTNO NUMERIC(2),\n DNAME VARCHAR(14),\n LOC VARCHAR(13),\n CONSTRAINT PK_DEPT PRIMARY KEY (DEPTNO));\n CREATE TABLE\n\n postgres2=> CREATE TABLE EMP\n (EMPNO NUMERIC(4),\n ENAME VARCHAR(10),\n JOB VARCHAR(9),\n MGR NUMERIC(4),\n HIREDATE DATE,\n SAL NUMERIC(7, 2),\n COMM NUMERIC(7, 2),\n DEPTNO NUMERIC(2),\n CONSTRAINT FK_DEPTNO FOREIGN KEY (DEPTNO) REFERENCES DEPT (DEPTNO),\n CONSTRAINT PK_EMP PRIMARY KEY (EMPNO));\n CREATE TABLE\n\n postgres2=> INSERT INTO DEPT VALUES (50, 'RECOUNTING', 'MIAMI');\n INSERT INTO DEPT VALUES (60, 'SEARCH', 'FLORIDA');\n INSERT INTO DEPT VALUES (70, 'SHELLS', 'NEW JERSEY');\n INSERT INTO DEPT VALUES (80, 'OPTIONS', 'WASHINTON');\n\n postgres2=> INSERT INTO EMP VALUES(7419, 'NEIL', 'SALESMAN', 7698,TO_DATE('21-FEB-1981', 'DD-MON-YYYY'), 1600, 300, 80);\n INSERT INTO EMP VALUES(7531, 'RICKY', 'SALESMAN', 7698,TO_DATE('23-FEB-1981', 'DD-MON-YYYY'), 1250, 500, 80);\n INSERT INTO EMP VALUES(7664, 'NAVARRO', 'SALESMAN', 7698,TO_DATE('29-SEP-1981', 'DD-MON-YYYY'), 1250, 1400, 80);\n INSERT INTO EMP VALUES(7618, 'JAKE', 'MANAGER', 7839,TO_DATE('2-MAY-1981', 'DD-MON-YYYY'), 2850, NULL, 80);\n INSERT INTO EMP VALUES(7792, 'CLEIRK', 'MANAGER', 7839,TO_DATE('10-JUN-1981', 'DD-MON-YYYY'), 2450, NULL, 50);\n INSERT INTO EMP VALUES(7899, 'REPS', 'PRESIDENT', NULL,TO_DATE('1-NOV-1981', 'DD-MON-YYYY'), 5000, NULL, 50);\n INSERT INTO EMP VALUES(7854, 'TURNOR', 'SALESMAN', 7698,TO_DATE('18-SEP-1981', 'DD-MON-YYYY'), 1500, 0, 70);\n ```\n\nAhora que hemos creado las dos bases de datos con sus respetivos usuarios, procederemos a conectarlas entre sí, para ello haremos lo siguiente:\n\n- Dentro del fichero de configuración /etc/postgresql/13/main/postgresql.conf se buscamos la siguiente directiva:\n\n ```shell\n listen_addresses = 'localhost' # what IP address(es) to listen on;\n ```\n\n- Modificamos la palabra \"localhost\" por \"*\":\n\n ```shell\n listen_addresses = '*' # what IP address(es) to listen on;\n ```\n\n- Seguidamente, procedemos a modificar el fichero /etc/postgresql/13/main/pg_hba.conf, con la siguiente información:\n\n ```shell\n host replication all 127.0.0.1/32 md5\n ```\n\n- Modificamos los parámetros por los siguientes:\n\n ```shell\n host all all all md5\n ```\n\n- Reiniciamos el servicio de postgres y comprobamos mediante netstat que el puerto de postgres está bien configurado:\n\n ```shell\n root@postgres1:~# systemctl restart postgresql\n root@postgres1:~# netstat -tln\n Active Internet connections (only servers)\n Proto Recv-Q Send-Q Local Address Foreign Address State \n tcp 0 0 0.0.0.0:5432 0.0.0.0:* LISTEN\n ```\n\nSeguimos los mismos pasos que hicimos anteriormente en la máquina postgres2 modificando los ficheros postgresql.conf y pg_hba.conf de la misma forma que explicamos anteriormente y comprobamos mediante netstat que todo funciona:\n\n- Comprobamos:\n\n ```shell\n root@postgres2:~# /var/lib/postgresql# systemctl restart postgresql\n root@postgres2:~# /var/lib/postgresql# netstat -tln\n Active Internet connections (only servers)\n Proto Recv-Q Send-Q Local Address Foreign Address State \n tcp 0 0 0.0.0.0:5432 0.0.0.0:* LISTEN \n ```\n\nAhora que hemos configurado el servicio postgres en ambas máquinas para permitir conexiones remotas, procederemos a interconectar las bases de datos creadas anteriormente entre si. Para ello primero instalamos el siguiente paquete en ambas máquinas:\n\n```shell\nroot@postgres1:~# apt install postgresql-contrib\n\nroot@postgres2:~# apt install postgresql-contrib\n```\n\nPosteriormente, configuraremos ambas máquinas para crear un enlace entre ellas:\n\n- Accedemos a la base de datos \"postgres1\":\n\n ```sql\n postgres@postgres1:~$ psql -d postgres1\n psql (13.8 (Debian 13.8-0+deb11u1))\n Digite «help» para obtener ayuda.\n\n postgres1=# \n ```\n\n- Creamos el siguiente link:\n\n ```sql\n postgrest1=# CREATE EXTENSION dblink;\n CREATE EXTENSION\n ```\n\n- Realizamos el mismo procedimiento en postgres2:\n\n ```sql\n postgres@postgres2:~$ psql -d postgres2\n psql (13.8 (Debian 13.8-0+deb11u1))\n Digite «help» para obtener ayuda.\n\n postgres2=# CREATE EXTENSION dblink;\n CREATE EXTENSION\n ```\n\nFinalmente comprobamos que funciona haciendo una consulta a la tabla dept desde postgres1 a postgres2 y viceversa:\n\n- Select a postgres2:\n\n ```sql\n postgres1=# SELECT *\n FROM dblink('dbname=postgres2 host=192.168.1.22 user=postgres2 password=postgres','SELECT deptno,dname FROM dept') AS P(deptno NUMERIC(2),dname VARCHAR(14));\n deptno | dname \n --------+------------\n 50 | RECOUNTING\n 60 | SEARCH\n 70 | SHELLS\n 80 | OPTIONS\n (4 filas)\n ```\n\n- Select a postgres1:\n\n ```sql\n postgres2=# SELECT *\n postgres2-# FROM dblink('dbname=postgres1 host=192.168.1.23 user=postgres1 password=postgres','SELECT deptno,dname FROM dept') AS P(deptno NUMERIC(2),dname VARCHAR(14));\n deptno | dname \n --------+------------\n 10 | ACCOUNTING\n 20 | RESEARCH\n 30 | SALES\n 40 | OPERATIONS\n (4 filas)\n ```\n\n## Interconexión entre un servidor Oracle y otro Postgres.\n\nEn este punto inteconectararemos la base de datos creada en oracle1 con postgres2, para ello haremos lo siguiente:\n\n- Primero instalamos la paquetería necesaria para configurar los drivers:\n\n ```shell\n apt install unixodbc odbc-postgres\n ```\n\nA continuación, debemos configurar unixodbc para conectar los drivers, haremos lo siguiente:\n\n- Nos fijamos en la siguiente línea dentro del fichero de configuración /etc/odbcinst.ini:\n\n ```shell\n [PostgreSQL Unicode]\n ```\n\n- Aquí viene el nombre de los drivers de postgres, con lo que teniendo en cuenta esta información, añadimos la siguiente línea dentro del fichero /etc/odbc.ini:\n \n ```shell\n [PSQLU]\n Debug = 0\n CommLog = 0\n ReadOnly = 0\n Driver = PostgreSQL\n Servername = 192.168.1.22\n Username = postgres2\n Password = postgres\n Port = 5432\n Database = postgres2\n Trace = 0\n TraceFile = /tmp/sql.log\n ```\n\n- Comprobamos que hay conectividad:\n\n ```shell\n root@oracle:~# isql PSQLU\n +---------------------------------------+\n | Connected! |\n | |\n | sql-statement |\n | help [tablename] |\n | quit |\n | |\n +---------------------------------------+\n SQL> select * from dept;\n +-------+---------------+--------------+\n | deptno| dname | loc |\n +-------+---------------+--------------+\n | 50 | RECOUNTING | MIAMI |\n | 60 | SEARCH | FLORIDA |\n | 70 | SHELLS | NEW JERSEY |\n | 80 | OPTIONS | WASHINTON |\n +-------+---------------+--------------+\n SQLRowCount returns 4\n 4 rows fetched\n ```\nAhora que hemos configurado el driver, procederemos a configurar oracle para que utilice el driver, para ello haremos lo siguiente:\n\n- Dentro del directorio /opt/oracle/product/19c/dbhome_1/hs/admin/ creamos el fichero initPSQLU.ora con el siguiente contenido:\n\n ```shell\n HS_FDS_CONNECT_INFO = PSQLU\n HS_FDS_TRACE_LEVEL = DEBUG\n HS_FDS_SHAREABLE_NAME = /usr/lib64/psqlodbcw.so\n HS_LANGUAGE = AMERICAN_AMERICA.WE8ISO8859P1\n set ODBCINI=/etc/odbc.ini\n ```\n\n- Seguidamente, modificamos el fichero de configuración /opt/oracle/product/19c/dbhome_1/network/admin/listener.ora con el siguiente contenido:\n\n ```shell\n SID_LIST_LISTENER =\n (SID_LIST =\n (SID_DESC =\n (SID_NAME = PSQLU)\n (ORACLE_HOME = /opt/oracle/product/19c/dbhome_1)\n (PROGRAM = dg4odbc)\n )\n )\n ```\n\n- A continuación, dentro del fichero tnsnames.ora, añadimos lo siguiente:\n\n ```shell\n PSQLU =\n (DESCRIPTION=\n (ADDRESS=(PROTOCOL=tcp)(HOST=localhost)(PORT=1521))\n (CONNECT_DATA=(SID=PSQLU))\n (HS=OK)\n )\n ```\n- Ahora reiniciamos oracle:\n\n ```shell\n oracle@oracle:~$ lsnrctl stop\n\n LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 23-NOV-2022 20:44:24\n\n Copyright (c) 1991, 2019, Oracle. All rights reserved.\n\n Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=0.0.0.0)(PORT=1521)))\n The command completed successfully\n oracle@oracle:~$ lsnrctl start\n\n LSNRCTL for Linux: Version 19.0.0.0.0 - Production on 23-NOV-2022 20:44:27\n\n Copyright (c) 1991, 2019, Oracle. All rights reserved.\n\n Starting /opt/oracle/product/19c/dbhome_1/bin/tnslsnr: please wait...\n\n TNSLSNR for Linux: Version 19.0.0.0.0 - Production\n System parameter file is /opt/oracle/product/19c/dbhome_1/network/admin/listener.ora\n Log messages written to /opt/oracle/diag/tnslsnr/oracle/listener/alert/log.xml\n Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=0.0.0.0)(PORT=1521)))\n Listening on: (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))\n\n Connecting to (DESCRIPTION=(ADDRESS=(PROTOCOL=TCP)(HOST=0.0.0.0)(PORT=1521)))\n STATUS of the LISTENER\n ------------------------\n Alias LISTENER\n Version TNSLSNR for Linux: Version 19.0.0.0.0 - Production\n Start Date 23-NOV-2022 20:44:27\n Uptime 0 days 0 hr. 0 min. 0 sec\n Trace Level off\n Security ON: Local OS Authentication\n SNMP OFF\n Listener Parameter File /opt/oracle/product/19c/dbhome_1/network/admin/listener.ora\n Listener Log File /opt/oracle/diag/tnslsnr/oracle/listener/alert/log.xml\n Listening Endpoints Summary...\n (DESCRIPTION=(ADDRESS=(PROTOCOL=tcp)(HOST=0.0.0.0)(PORT=1521)))\n (DESCRIPTION=(ADDRESS=(PROTOCOL=ipc)(KEY=EXTPROC1521)))\n Services Summary...\n Service \"PSQLU\" has 1 instance(s).\n Instance \"PSQLU\", status UNKNOWN, has 1 handler(s) for this service...\n The command completed successfully\n ```\n\n- Nos conectamos a oracle con nuestro usuario:\n\n ```sql\n oracle@oracle:~$ sqlplus joseju10/joseju10\n\n SQL*Plus: Release 19.0.0.0.0 - Production on Wed Nov 23 20:45:52 2022\n Version 19.3.0.0.0\n\n Copyright (c) 1982, 2019, Oracle. All rights reserved.\n\n Hora de Ultima Conexion Correcta: Mie Nov 23 2022 13:59:25 +01:00\n\n Conectado a:\n Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\n Version 19.3.0.0.0\n\n SQL> \n ```\n- Creamos un link con la base de datos de postgres:\n\n ```sql \n SQL> CREATE DATABASE LINK postgreslink\n 2 CONNECT TO \"postgres2\" IDENTIFIED BY \"postgres\"\n 3 USING 'PSQLU';\n\n Enlace con la base de datos creado.\n ```\n- Hacemos un select a la tabla dept de postgres para comprobar que funciona:\n\n ```sql\n SQL> select *\n 2 from \"dept\"@postgreslink;\n\n DEPTNO DNAME\t LOC\n ---------- -------------- -------------\n 50 RECOUNTING MIAMI\n 60 SEARCH\t FLORIDA\n 70 SHELLS\t NEW JERSEY\n 80 OPTIONS\t WASHINTON\n ```\n\nAhora que hemos conectado oracle a postgres, lo configuraremos desde postgres a oracle, para ello haremos lo siguiente:\n\n- Primero instalamos los paquetes necesarios:\n\n ```shell\n postgres@postgres2:~$ apt install libaio1 postgresql-server-dev-all build-essential git\n ```\n- Seguidamente descargamos los siguientes archivos:\n\n ```shell\n postgres@postgres2:~$ wget https://download.oracle.com/otn_software/linux/instantclient/211000/instantclient-basic-linux.x64-21.1.0.0.0.zip\n\n postgres@postgres2:~$ wget https://download.oracle.com/otn_software/linux/instantclient/211000/instantclient-sdk-linux.x64-21.1.0.0.0.zip\n\n postgres@postgres2:~$ wget https://download.oracle.com/otn_software/linux/instantclient/211000/instantclient-sqlplus-linux.x64-21.1.0.0.0.zip\n ```\n- Descomprimimos los archivos recién descargados:\n\n ```shell\n postgres@postgres2:~$ unzip instantclient-basic-linux.x64-21.1.0.0.0.zip\n\n postgres@postgres2:~$ unzip instantclient-sqlplus-linux.x64-21.1.0.0.0.zip \n\n postgres@postgres2:~$ unzip instantclient-sdk-linux.x64-21.1.0.0.0.zip\n ```\n- Ahora exportaremos las siguientes variables de entorno:\n\n ```shell\n postgres@postgres2:~$ export ORACLE_HOME=/home/postgres/instantclient_21_1\n postgres@postgres2:~$ export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:$ORACLE_HOME\n postgres@postgres2:~$ export PATH=$PATH:$ORACLE_HOME\n ```\n- Ahora nos intentamos conectar a nuestro usuario joseju10 de la máquina de oracle:\n\n ```sql\n postgres@postgres2:~$ sqlplus joseju10/joseju10@192.168.1.43/ORCLCDB\n\n SQL*Plus: Release 21.0.0.0.0 - Production on Wed Nov 23 21:12:23 2022\n Version 21.1.0.0.0\n\n Copyright (c) 1982, 2020, Oracle. All rights reserved.\n\n Hora de Ultima Conexion Correcta: Mie Nov 23 2022 20:45:52 +01:00\n\n Conectado a:\n Oracle Database 19c Enterprise Edition Release 19.0.0.0.0 - Production\n Version 19.3.0.0.0\n\n SQL>\n ```\nUna vez hemos comprobado que el cliente oracle funciona correctamente, procederemos a la compliación de oracle_fwd, para ello haremos lo siguiente:\n\n- Clonamos el siguiente repositorio:\n\n ```shell\n postgres@postgres2:~$ git clone https://github.com/laurenz/oracle_fdw.git\n Clonando en 'oracle_fdw'...\n remote: Enumerating objects: 2489, done.\n remote: Counting objects: 100% (343/343), done.\n remote: Compressing objects: 100% (124/124), done.\n remote: Total 2489 (delta 234), reused 324 (delta 219), pack-reused 2146\n Recibiendo objetos: 100% (2489/2489), 1.43 MiB | 1.13 MiB/s, listo.\n Resolviendo deltas: 100% (1708/1708), listo.\n ```\n- Accemos al directorio clonado y compilamos:\n\n ```shell\n postgres@postgres2:~/oracle_fdw$ make\n gcc -Wall -Wmissing-prototypes -Wpointer-arith -Wdeclaration-after-statement -Werror=vla -Wendif-labels -Wmissing-format-attribute -Wimplicit-fallthrough=3 -Wformat-security -fno-strict-aliasing -fwrapv -fexcess-precision=standard -Wno-format-truncation -Wno-stringop-truncation -g -g -O2 -fstack-protector-strong -Wformat -Werror=format-security -fno-omit-frame-pointer -fPIC -I\"/home/postgres/instantclient_21_1/sdk/include\" -I\"/home/postgres/instantclient_21_1/oci/include\" -I\"/home/postgres/instantclient_21_1/rdbms/public\" -I\"/home/postgres/instantclient_21_1/\" -I. -I./ -I/usr/include/postgresql/13/server -I/usr/include/\n\n root@postgres2:/home/postgres/oracle_fdw# make install\n /bin/mkdir -p '/usr/lib/postgresql/13/lib'\n /bin/mkdir -p '/usr/share/postgresql/13/extension'\n /bin/mkdir -p '/usr/share/postgresql/13/extension'\n /bin/mkdir -p '/usr/share/doc/postgresql-doc-13/extension'\n /usr/bin/install -c -m 755 oracle_fdw.so '/usr/lib/postgresql/13/lib/oracle_fdw.so'\n /usr/bin/install -c -m 644 .//oracle_fdw.control '/usr/share/postgresql/13/extension/'\n /usr/bin/install -c -m 644 .//oracle_fdw--1.2.sql .//oracle_fdw--1.0--1.1.sql .//oracle_fdw--1.1--1.2.sql '/usr/share/postgresql/13/extension/'\n /usr/bin/install -c -m 644 .//README.oracle_fdw '/usr/share/doc/postgresql-doc-13/extension/'\n ```\n\n- Seguidamente, indicamos en el fichero de configuración oracle.conf el siguiente contenido para indicarle las librerías de Oracle:\n\n ```shell\n root@postgres2:/home/postgres/oracle_fdw# echo '/home/postgres/instantclient\\_21\\_1' | tee /etc/ld.so.conf.d/oracle.conf\n ```\n\nEn este punto ya tenemos configurado el apartado de datos con respecto a la configuración de postgres para acceder a oracle, lo que haremos será crear un esquema con el usuario por defecto de postgres copiando la base de datos que tenemos en oracle a un esquema que crearemos en este punto. \n\nA dicho esquema le otorgaremos los correspondientes permisos para que el usuario postgres2 pueda crear tablas, realizar consultas... Para ello seguiremos los siguientes pasos:\n\n- Creamos el enlace de la base de datos de oracle1 a posgres2, para ello accedemos a la base de datos postgres2:\n\n ```shell\n postgres@postgres2:~/oracle_fdw$ psql -d postgres2\n psql (13.8 (Debian 13.8-0+deb11u1))\n Digite «help» para obtener ayuda.\n\n postgres2=>\n ```\n- Creamos dicho enlace:\n\n ```sql\n postgres2=# CREATE EXTENSION oracle_fdw;\n CREATE EXTENSION\n ```\n- Generamos un esquema de nombre oracle:\n\n ```sql\n postgres2=# CREATE SCHEMA oracle;\n CREATE SCHEMA\n ```\n- Seguidamente, mapeamos el usuario local al usuario remoto de oracle:\n\n ```sql\n postgres2=# CREATE USER MAPPING FOR oracle SERVER oracle OPTIONS (user 'joseju10', password 'joseju10');\n CREATE USER MAPPING\n ```\n- Otorgamos permisos al usuario local postgres2:\n\n ```sql\n postgres2=# GRANT ALL PRIVILEGES ON SCHEMA oracle TO postgres2;\n GRANT\n ```\n ```sql\n postgres2=# GRANT ALL PRIVILEGES ON FOREIGN SERVER oracle TO postgres2;\n GRANT\n ```\n- Iniciamos sesión con el usuario postgres2:\n\n ```sql\n postgres2@postgres2:~$ psql -h localhost -U postgres2 -d postgres2\n Contraseña para usuario postgres2: \n psql (13.8 (Debian 13.8-0+deb11u1))\n Conexión SSL (protocolo: TLSv1.3, cifrado: TLS_AES_256_GCM_SHA384, bits: 256, compresión: desactivado)\n Digite «help» para obtener ayuda.\n\n postgres2=>\n ```\n- Importamos el esquema creado anteriormente:\n\n ```sql\n prueba2=# IMPORT FOREIGN SCHEMA \"joseju10\" FROM SERVER oracle INTO oracle;\n IMPORT FOREIGN SCHEMA\n ```\n- Finalmente realizamos una consulta a la tabla dept del servidor para comprobar si funciona:\n\n ```sql\n postgres1=> select *\n postgres1-> from dept;\n deptno | dname | loc \n --------+------------+----------\n 10 | ACCOUNTING | NEW YORK\n 20 | RESEARCH | DALLAS\n 30 | SALES | CHICAGO\n 40 | OPERATIONS | BOSTON\n (4 filas)\n ```","dir":"/bbdd/","name":"interconexion.md","path":"bbdd/interconexion.md","url":"/bbdd/interconexion.html"},{"permalink":"/sistemas/","layout":"default","title":"SISTEMAS OPERATIVOS","content":"# SISTEMAS OPERATIVOS\n\n## Apartado de Sistemas Operativos de José Juan Hervás Carrasco.","dir":"/sistemas/","name":"README.md","path":"sistemas/README.md","url":"/sistemas/"},{"layout":"default","title":"COMPILACION DE UN KERNEL LINUX A MEDIDA","content":"# COMPILACION DE UN KERNEL LINUX A MEDIDA\n\n## Introducción\n\nEn este apartado descargaremos una versión de kernel desde la página https://kernel.org/ y haremos lo siguiente:\n\n- Instalar dependencias\n\n- Descargar Kernel\n\n- Compilar Kernel\n\n- Crear imagen .deb\n\n- Instalar archivo .deb creado anteriormente\n\n- Reducir módulos del Kernel\n\nLa versión de Kernel que he elegido para este apartado es la versión 6.0.7.\n\n---\n\n## Instalar Dependencias\n\n---\n\nEn este punto lo primero que haremos será instalar los paquetes necesarios para poder compilar el kernel y posteriormente crear el fichero .deb correspondiente.\n\nPrimero actualizamos:\n\n```shell\njoseju@debian:~$ sudo apt update\n```\n\nInstalamos las dependencias:\n```shell\njoseju@debian:~$ sudo apt install build-essential qtbase5-dev libelf-dev pkg-config \n```\n\n---\n\n## Descargar Kernel\n\n---\n\nUna vez hemos instalado las correspondientes dependencias, descargaremos el archivo del kernel:\n\n```shell\njoseju@debian:~/compilacion_kernel$ wget https://mirrors.edge.kernel.org/pub/linux/kernel/v6.x/linux-6.0.7.tar.xz\n```\n\n---Reducir módulos del Kernel\n\njoseju@debian:~/compilacion_kernel$ tar -xvf linux-6.0.7.tar.xz\n```\n\nPosteriormente, accedemos a la carpeta y compilamos el archivo oldconfig:\n\n```shell\njoseju@debian:~/compilacion_kernel/linux-6.0.7$ make oldconfig\n```\n- Al compilarlo nos hará muchas preguntas, dejamos pulsado intro ya que por defecto indicamos que no.\n\nUna vez hecho esto, se nos habrá generado un fichero oculto llamado .config:\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ ls -la | egrep '.config'\n-rw-r--r-- 1 usuario usuario 59 nov 3 16:00 .cocciconfig\n-rw-r--r-- 1 usuario usuario 252431 nov 17 14:12 .config\n-rw-r--r-- 1 usuario usuario 555 nov 3 16:00 Kconfig\n```\n\nEn este fichero se almacenan los módulos que vienen por defecto y que posteriormente deberemos ir desactivando, pero este no es el caso, asi que prodeceremos a compilar este archivo para reducir módulos automáticamente:\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ make localmodconfig\n```\n\n---\n\n## Crear imagen .deb\n\n---\n\nAhora que hemos reducido los módulos, procederemos a generar nuestra imagen .deb del kernel, para ello:\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ make -j12 bindeb-pkg\n```\n\n- Esto tardará un rato ya que antes de reducir considerablemente el número de módulos, se tienen que cargar los que vienen por defecto.\n\n---\n\n## Instalar archivo .deb creado anteriormente\n\n---\n\nPrimero, verificamos la versión del kernel que tenemos actualmente en funcionamiento:\n\n```shell\nusuario@debian:~$ uname -r\n5.10.0-18-amd64\n```\n\nAhora que hemos compilado y generado el fichero .deb, procederemos a instalar el fichero .deb que se nos ha generado y este se añadirá al grub como una nueva versión de kernel._\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ sudo dpkg -i ../linux-image-6.0.7_6.0.7-1_amd64.deb\n```\n\nEn este punto reiniciamos la máquina y comprobamos que la nueva versión del kernel funciona correctmente\n\n```shell\nusuario@debian:~$ sudo reboot\n```\n\n---\n\n## Reducir módulos del Kernel\n\n---\n\nPrimero, comprobamos la versión de kernel actual tras el reinicio:\n\n```shell\nusuario@debian:~$ uname -r\n6.0.7\n```\n\nAhora que tenemos cargada la nueva versión de kernel en nuestro sistema operativo, debemos reducir el número de módulos a medida de las características del hardware de nuestro equipo.\n\nPor ejemplo nuestro equipo funciona con un procesador intel, pues los módulos que sean amd los podemos desactivar.\n\nAntes de editar los módulos, comprobamos los módulos que tiene actualmente el fichero .config:\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ egrep '=y' .config | wc -l\n1627\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ egrep '=m' .config | wc -l\n193\n```\n\nPara editar los módulos del kernel ejecutamos el siguiente comando:\n\n```shell\nusuario@debian:~/compilacion_kernel/linux-6.0.7$ make xconfig\n```\n\nNos aparecerá una ventana gráfica donde deberemos ir desmarcando los módulos que sean necesarios.\n","dir":"/sistemas/","name":"compilacion-kernel.md","path":"sistemas/compilacion-kernel.md","url":"/sistemas/compilacion-kernel.html"},{"layout":"default","title":"Compilación de un programa en C utilizando un Makefile.","content":"# Compilación de un programa en C utilizando un Makefile.\n\n## NGINX\n\nEl programa que he elegido para realizar la compilación es nginx, para compilarlo en nuestro equipo seguiremos los siguientes pasos:\n\n### Pasos iniciales\n\nSeguiremos los siguientes pasos para compilar nginx en nuestro equipo, para ello hacemos lo siguiente:\n\n- Comprobamos la versión del sistema:\n\n```shell\njoseju@joseju:~$ lsb_release -ds\nDebian GNU/Linux 11 (bullseye)\n```\n\n- Instalamos paquetes necesarios si no lo están:\n\n```shell\njoseju@joseju:~$ sudo apt install -y build-essential git tree software-properties-common dirmngr apt-transport-https ufw curl wget\n```\n\n- Actualizamos paquetería:\n\n```shell\njoseju@joseju:~$ sudo apt update -y && sudo apt upgrade -y\nObj:1 http://deb.debian.org/debian bullseye InRelease\nObj:2 http://deb.debian.org/debian bullseye-updates InRelease \nObj:3 http://security.debian.org/debian-security bullseye-security InRelease\nObj:4 http://packages.microsoft.com/repos/code stable InRelease \nLeyendo lista de paquetes... Hecho \nCreando árbol de dependencias... Hecho\nLeyendo la información de estado... Hecho\nTodos los paquetes están actualizados.\nLeyendo lista de paquetes... Hecho\nCreando árbol de dependencias... Hecho\nLeyendo la información de estado... Hecho\nCalculando la actualización... Hecho\n0 actualizados, 0 nuevos se instalarán, 0 para eliminar y 0 no actualizados.\n```\n\n### Compilación\n\nEn este punto realizaremos la compilación del programa nginx, para ello haremos lo siguiente:\n\n- Descargamos el programa comprimido de nginx, en concreto la versión 1.15.8:\n\n```shell\njoseju@joseju:~/nginx$ wget https://nginx.org/download/nginx-1.15.8.tar.gz && tar zxvf nginx-1.15.8.tar.gz\n--2022-11-29 21:26:25-- https://nginx.org/download/nginx-1.15.8.tar.gz\nResolviendo nginx.org (nginx.org)... 3.125.197.172, 52.58.199.22, 2a05:d014:edb:5704::6, ...\nConectando con nginx.org (nginx.org)[3.125.197.172]:443... conectado.\nPetición HTTP enviada, esperando respuesta... 200 OK\nLongitud: 1027862 (1004K) [application/octet-stream]\nGrabando a: «nginx-1.15.8.tar.gz»\n\nnginx-1.15.8.tar.gz 100%[===================>] 1004K 1,19MB/s en 0,8s \n\n2022-11-29 21:26:26 (1,19 MB/s) - «nginx-1.15.8.tar.gz» guardado [1027862/1027862]\n\nnginx-1.15.8/\nnginx-1.15.8/auto/\nnginx-1.15.8/conf/\nnginx-1.15.8/contrib/\nnginx-1.15.8/src/\nnginx-1.15.8/configure\nnginx-1.15.8/LICENSE\nnginx-1.15.8/README\nnginx-1.15.8/html/\nnginx-1.15.8/man/\nnginx-1.15.8/CHANGES.ru\nnginx-1.15.8/CHANGES\nnginx-1.15.8/man/nginx.8\nnginx-1.15.8/html/50x.html\nnginx-1.15.8/html/index.html\nnginx-1.15.8/src/core/\nnginx-1.15.8/src/event/\nnginx-1.15.8/src/http/\nnginx-1.15.8/src/mail/\nnginx-1.15.8/src/misc/\nnginx-1.15.8/src/os/\nnginx-1.15.8/src/stream/\nnginx-1.15.8/src/stream/ngx_stream.c\nnginx-1.15.8/src/stream/ngx_stream.h\nnginx-1.15.8/src/stream/ngx_stream_access_module.c\nnginx-1.15.8/src/stream/ngx_stream_core_module.c\nnginx-1.15.8/src/stream/ngx_stream_geo_module.c\nnginx-1.15.8/src/stream/ngx_stream_geoip_module.c\nnginx-1.15.8/src/stream/ngx_stream_handler.c\nnginx-1.15.8/src/stream/ngx_stream_limit_conn_module.c\nnginx-1.15.8/src/stream/ngx_stream_log_module.c\nnginx-1.15.8/src/stream/ngx_stream_map_module.c\nnginx-1.15.8/src/stream/ngx_stream_proxy_module.c\nnginx-1.15.8/src/stream/ngx_stream_realip_module.c\nnginx-1.15.8/src/stream/ngx_stream_return_module.c\nnginx-1.15.8/src/stream/ngx_stream_script.c\nnginx-1.15.8/src/stream/ngx_stream_script.h\nnginx-1.15.8/src/stream/ngx_stream_split_clients_module.c\nnginx-1.15.8/src/stream/ngx_stream_ssl_module.c\nnginx-1.15.8/src/stream/ngx_stream_ssl_module.h\nnginx-1.15.8/src/stream/ngx_stream_ssl_preread_module.c\nnginx-1.15.8/src/stream/ngx_stream_upstream.c\nnginx-1.15.8/src/stream/ngx_stream_upstream.h\nnginx-1.15.8/src/stream/ngx_stream_upstream_hash_module.c\nnginx-1.15.8/src/stream/ngx_stream_upstream_least_conn_module.c\nnginx-1.15.8/src/stream/ngx_stream_upstream_random_module.c\nnginx-1.15.8/src/stream/ngx_stream_upstream_round_robin.c\nnginx-1.15.8/src/stream/ngx_stream_upstream_round_robin.h\nnginx-1.15.8/src/stream/ngx_stream_upstream_zone_module.c\nnginx-1.15.8/src/stream/ngx_stream_variables.c\nnginx-1.15.8/src/stream/ngx_stream_variables.h\nnginx-1.15.8/src/stream/ngx_stream_write_filter_module.c\nnginx-1.15.8/src/os/unix/\nnginx-1.15.8/src/os/unix/ngx_alloc.c\nnginx-1.15.8/src/os/unix/ngx_alloc.h\nnginx-1.15.8/src/os/unix/ngx_atomic.h\nnginx-1.15.8/src/os/unix/ngx_channel.c\nnginx-1.15.8/src/os/unix/ngx_channel.h\nnginx-1.15.8/src/os/unix/ngx_daemon.c\nnginx-1.15.8/src/os/unix/ngx_darwin.h\nnginx-1.15.8/src/os/unix/ngx_darwin_config.h\nnginx-1.15.8/src/os/unix/ngx_darwin_init.c\nnginx-1.15.8/src/os/unix/ngx_darwin_sendfile_chain.c\nnginx-1.15.8/src/os/unix/ngx_dlopen.c\nnginx-1.15.8/src/os/unix/ngx_dlopen.h\nnginx-1.15.8/src/os/unix/ngx_errno.c\nnginx-1.15.8/src/os/unix/ngx_errno.h\nnginx-1.15.8/src/os/unix/ngx_file_aio_read.c\nnginx-1.15.8/src/os/unix/ngx_files.c\nnginx-1.15.8/src/os/unix/ngx_files.h\nnginx-1.15.8/src/os/unix/ngx_freebsd.h\nnginx-1.15.8/src/os/unix/ngx_freebsd_config.h\nnginx-1.15.8/src/os/unix/ngx_linux.h\nnginx-1.15.8/src/os/unix/ngx_freebsd_init.c\nnginx-1.15.8/src/os/unix/ngx_freebsd_sendfile_chain.c\nnginx-1.15.8/src/os/unix/ngx_gcc_atomic_amd64.h\nnginx-1.15.8/src/os/unix/ngx_gcc_atomic_ppc.h\nnginx-1.15.8/src/os/unix/ngx_gcc_atomic_sparc64.h\nnginx-1.15.8/src/os/unix/ngx_gcc_atomic_x86.h\nnginx-1.15.8/src/os/unix/ngx_linux_aio_read.c\nnginx-1.15.8/src/os/unix/ngx_linux_config.h\nnginx-1.15.8/src/os/unix/ngx_linux_init.c\nnginx-1.15.8/src/os/unix/ngx_linux_sendfile_chain.c\nnginx-1.15.8/src/os/unix/ngx_os.h\nnginx-1.15.8/src/os/unix/ngx_posix_config.h\nnginx-1.15.8/src/os/unix/ngx_posix_init.c\nnginx-1.15.8/src/os/unix/ngx_process.c\nnginx-1.15.8/src/os/unix/ngx_process.h\nnginx-1.15.8/src/os/unix/ngx_process_cycle.c\nnginx-1.15.8/src/os/unix/ngx_process_cycle.h\nnginx-1.15.8/src/os/unix/ngx_readv_chain.c\nnginx-1.15.8/src/os/unix/ngx_recv.c\nnginx-1.15.8/src/os/unix/ngx_send.c\nnginx-1.15.8/src/os/unix/ngx_setaffinity.c\nnginx-1.15.8/src/os/unix/ngx_setaffinity.h\nnginx-1.15.8/src/os/unix/ngx_setproctitle.c\nnginx-1.15.8/src/os/unix/ngx_setproctitle.h\nnginx-1.15.8/src/os/unix/ngx_shmem.c\nnginx-1.15.8/src/os/unix/ngx_shmem.h\nnginx-1.15.8/src/os/unix/ngx_socket.c\nnginx-1.15.8/src/os/unix/ngx_socket.h\nnginx-1.15.8/src/os/unix/ngx_solaris.h\nnginx-1.15.8/src/os/unix/ngx_solaris_config.h\nnginx-1.15.8/src/os/unix/ngx_solaris_init.c\nnginx-1.15.8/src/os/unix/ngx_solaris_sendfilev_chain.c\nnginx-1.15.8/src/os/unix/ngx_sunpro_amd64.il\nnginx-1.15.8/src/os/unix/ngx_sunpro_atomic_sparc64.h\nnginx-1.15.8/src/os/unix/ngx_sunpro_sparc64.il\nnginx-1.15.8/src/os/unix/ngx_thread.h\nnginx-1.15.8/src/os/unix/ngx_sunpro_x86.il\nnginx-1.15.8/src/os/unix/ngx_thread_cond.c\nnginx-1.15.8/src/os/unix/ngx_thread_id.c\nnginx-1.15.8/src/os/unix/ngx_thread_mutex.c\nnginx-1.15.8/src/os/unix/ngx_time.c\nnginx-1.15.8/src/os/unix/ngx_time.h\nnginx-1.15.8/src/os/unix/ngx_udp_recv.c\nnginx-1.15.8/src/os/unix/ngx_udp_send.c\nnginx-1.15.8/src/os/unix/ngx_udp_sendmsg_chain.c\nnginx-1.15.8/src/os/unix/ngx_user.c\nnginx-1.15.8/src/os/unix/ngx_user.h\nnginx-1.15.8/src/os/unix/ngx_writev_chain.c\nnginx-1.15.8/src/misc/ngx_cpp_test_module.cpp\nnginx-1.15.8/src/misc/ngx_google_perftools_module.c\nnginx-1.15.8/src/mail/ngx_mail.c\nnginx-1.15.8/src/mail/ngx_mail.h\nnginx-1.15.8/src/mail/ngx_mail_auth_http_module.c\nnginx-1.15.8/src/mail/ngx_mail_core_module.c\nnginx-1.15.8/src/mail/ngx_mail_handler.c\nnginx-1.15.8/src/mail/ngx_mail_imap_handler.c\nnginx-1.15.8/src/mail/ngx_mail_imap_module.c\nnginx-1.15.8/src/mail/ngx_mail_imap_module.h\nnginx-1.15.8/src/mail/ngx_mail_parse.c\nnginx-1.15.8/src/mail/ngx_mail_pop3_handler.c\nnginx-1.15.8/src/mail/ngx_mail_pop3_module.c\nnginx-1.15.8/src/mail/ngx_mail_pop3_module.h\nnginx-1.15.8/src/mail/ngx_mail_proxy_module.c\nnginx-1.15.8/src/mail/ngx_mail_smtp_handler.c\nnginx-1.15.8/src/mail/ngx_mail_smtp_module.c\nnginx-1.15.8/src/mail/ngx_mail_smtp_module.h\nnginx-1.15.8/src/mail/ngx_mail_ssl_module.c\nnginx-1.15.8/src/mail/ngx_mail_ssl_module.h\nnginx-1.15.8/src/http/modules/\nnginx-1.15.8/src/http/ngx_http.c\nnginx-1.15.8/src/http/ngx_http.h\nnginx-1.15.8/src/http/ngx_http_cache.h\nnginx-1.15.8/src/http/ngx_http_config.h\nnginx-1.15.8/src/http/ngx_http_copy_filter_module.c\nnginx-1.15.8/src/http/ngx_http_core_module.c\nnginx-1.15.8/src/http/ngx_http_core_module.h\nnginx-1.15.8/src/http/ngx_http_file_cache.c\nnginx-1.15.8/src/http/ngx_http_header_filter_module.c\nnginx-1.15.8/src/http/ngx_http_parse.c\nnginx-1.15.8/src/http/ngx_http_postpone_filter_module.c\nnginx-1.15.8/src/http/ngx_http_request.c\nnginx-1.15.8/src/http/ngx_http_request.h\nnginx-1.15.8/src/http/ngx_http_request_body.c\nnginx-1.15.8/src/http/ngx_http_script.c\nnginx-1.15.8/src/http/v2/\nnginx-1.15.8/src/http/ngx_http_script.h\nnginx-1.15.8/src/http/ngx_http_special_response.c\nnginx-1.15.8/src/http/ngx_http_upstream.c\nnginx-1.15.8/src/http/ngx_http_upstream.h\nnginx-1.15.8/src/http/ngx_http_upstream_round_robin.c\nnginx-1.15.8/src/http/ngx_http_upstream_round_robin.h\nnginx-1.15.8/src/http/ngx_http_variables.c\nnginx-1.15.8/src/http/ngx_http_variables.h\nnginx-1.15.8/src/http/ngx_http_write_filter_module.c\nnginx-1.15.8/src/http/v2/ngx_http_v2.c\nnginx-1.15.8/src/http/v2/ngx_http_v2.h\nnginx-1.15.8/src/http/v2/ngx_http_v2_encode.c\nnginx-1.15.8/src/http/v2/ngx_http_v2_filter_module.c\nnginx-1.15.8/src/http/v2/ngx_http_v2_huff_decode.c\nnginx-1.15.8/src/http/v2/ngx_http_v2_huff_encode.c\nnginx-1.15.8/src/http/v2/ngx_http_v2_module.c\nnginx-1.15.8/src/http/v2/ngx_http_v2_module.h\nnginx-1.15.8/src/http/v2/ngx_http_v2_table.c\nnginx-1.15.8/src/http/modules/ngx_http_access_module.c\nnginx-1.15.8/src/http/modules/ngx_http_addition_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_auth_basic_module.c\nnginx-1.15.8/src/http/modules/ngx_http_auth_request_module.c\nnginx-1.15.8/src/http/modules/ngx_http_autoindex_module.c\nnginx-1.15.8/src/http/modules/ngx_http_browser_module.c\nnginx-1.15.8/src/http/modules/ngx_http_charset_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_chunked_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_dav_module.c\nnginx-1.15.8/src/http/modules/ngx_http_degradation_module.c\nnginx-1.15.8/src/http/modules/ngx_http_empty_gif_module.c\nnginx-1.15.8/src/http/modules/ngx_http_fastcgi_module.c\nnginx-1.15.8/src/http/modules/perl/\nnginx-1.15.8/src/http/modules/ngx_http_flv_module.c\nnginx-1.15.8/src/http/modules/ngx_http_geo_module.c\nnginx-1.15.8/src/http/modules/ngx_http_geoip_module.c\nnginx-1.15.8/src/http/modules/ngx_http_grpc_module.c\nnginx-1.15.8/src/http/modules/ngx_http_gunzip_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_gzip_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_gzip_static_module.c\nnginx-1.15.8/src/http/modules/ngx_http_headers_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_image_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_index_module.c\nnginx-1.15.8/src/http/modules/ngx_http_limit_conn_module.c\nnginx-1.15.8/src/http/modules/ngx_http_limit_req_module.c\nnginx-1.15.8/src/http/modules/ngx_http_log_module.c\nnginx-1.15.8/src/http/modules/ngx_http_map_module.c\nnginx-1.15.8/src/http/modules/ngx_http_memcached_module.c\nnginx-1.15.8/src/http/modules/ngx_http_mirror_module.c\nnginx-1.15.8/src/http/modules/ngx_http_mp4_module.c\nnginx-1.15.8/src/http/modules/ngx_http_not_modified_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_proxy_module.c\nnginx-1.15.8/src/http/modules/ngx_http_random_index_module.c\nnginx-1.15.8/src/http/modules/ngx_http_range_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_realip_module.c\nnginx-1.15.8/src/http/modules/ngx_http_referer_module.c\nnginx-1.15.8/src/http/modules/ngx_http_rewrite_module.c\nnginx-1.15.8/src/http/modules/ngx_http_scgi_module.c\nnginx-1.15.8/src/http/modules/ngx_http_secure_link_module.c\nnginx-1.15.8/src/http/modules/ngx_http_slice_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_split_clients_module.c\nnginx-1.15.8/src/http/modules/ngx_http_ssi_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_ssi_filter_module.h\nnginx-1.15.8/src/http/modules/ngx_http_ssl_module.c\nnginx-1.15.8/src/http/modules/ngx_http_ssl_module.h\nnginx-1.15.8/src/http/modules/ngx_http_static_module.c\nnginx-1.15.8/src/http/modules/ngx_http_stub_status_module.c\nnginx-1.15.8/src/http/modules/ngx_http_sub_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_try_files_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_hash_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_ip_hash_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_keepalive_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_random_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_least_conn_module.c\nnginx-1.15.8/src/http/modules/ngx_http_upstream_zone_module.c\nnginx-1.15.8/src/http/modules/ngx_http_userid_filter_module.c\nnginx-1.15.8/src/http/modules/ngx_http_uwsgi_module.c\nnginx-1.15.8/src/http/modules/ngx_http_xslt_filter_module.c\nnginx-1.15.8/src/http/modules/perl/Makefile.PL\nnginx-1.15.8/src/http/modules/perl/nginx.pm\nnginx-1.15.8/src/http/modules/perl/nginx.xs\nnginx-1.15.8/src/http/modules/perl/ngx_http_perl_module.c\nnginx-1.15.8/src/http/modules/perl/ngx_http_perl_module.h\nnginx-1.15.8/src/http/modules/perl/typemap\nnginx-1.15.8/src/event/modules/\nnginx-1.15.8/src/event/ngx_event.c\nnginx-1.15.8/src/event/ngx_event.h\nnginx-1.15.8/src/event/ngx_event_accept.c\nnginx-1.15.8/src/event/ngx_event_connect.c\nnginx-1.15.8/src/event/ngx_event_connect.h\nnginx-1.15.8/src/event/ngx_event_openssl.c\nnginx-1.15.8/src/event/ngx_event_openssl.h\nnginx-1.15.8/src/event/ngx_event_openssl_stapling.c\nnginx-1.15.8/src/event/ngx_event_pipe.c\nnginx-1.15.8/src/event/ngx_event_pipe.h\nnginx-1.15.8/src/event/ngx_event_posted.c\nnginx-1.15.8/src/event/ngx_event_posted.h\nnginx-1.15.8/src/event/ngx_event_timer.c\nnginx-1.15.8/src/event/ngx_event_timer.h\nnginx-1.15.8/src/event/ngx_event_udp.c\nnginx-1.15.8/src/event/modules/ngx_devpoll_module.c\nnginx-1.15.8/src/event/modules/ngx_epoll_module.c\nnginx-1.15.8/src/event/modules/ngx_eventport_module.c\nnginx-1.15.8/src/event/modules/ngx_kqueue_module.c\nnginx-1.15.8/src/event/modules/ngx_poll_module.c\nnginx-1.15.8/src/event/modules/ngx_select_module.c\nnginx-1.15.8/src/event/modules/ngx_win32_select_module.c\nnginx-1.15.8/src/core/nginx.c\nnginx-1.15.8/src/core/nginx.h\nnginx-1.15.8/src/core/ngx_array.c\nnginx-1.15.8/src/core/ngx_array.h\nnginx-1.15.8/src/core/ngx_buf.c\nnginx-1.15.8/src/core/ngx_buf.h\nnginx-1.15.8/src/core/ngx_conf_file.c\nnginx-1.15.8/src/core/ngx_conf_file.h\nnginx-1.15.8/src/core/ngx_config.h\nnginx-1.15.8/src/core/ngx_connection.c\nnginx-1.15.8/src/core/ngx_connection.h\nnginx-1.15.8/src/core/ngx_core.h\nnginx-1.15.8/src/core/ngx_cpuinfo.c\nnginx-1.15.8/src/core/ngx_crc.h\nnginx-1.15.8/src/core/ngx_crc32.c\nnginx-1.15.8/src/core/ngx_crc32.h\nnginx-1.15.8/src/core/ngx_crypt.c\nnginx-1.15.8/src/core/ngx_crypt.h\nnginx-1.15.8/src/core/ngx_cycle.c\nnginx-1.15.8/src/core/ngx_cycle.h\nnginx-1.15.8/src/core/ngx_file.c\nnginx-1.15.8/src/core/ngx_file.h\nnginx-1.15.8/src/core/ngx_hash.c\nnginx-1.15.8/src/core/ngx_hash.h\nnginx-1.15.8/src/core/ngx_inet.c\nnginx-1.15.8/src/core/ngx_inet.h\nnginx-1.15.8/src/core/ngx_list.c\nnginx-1.15.8/src/core/ngx_list.h\nnginx-1.15.8/src/core/ngx_log.c\nnginx-1.15.8/src/core/ngx_log.h\nnginx-1.15.8/src/core/ngx_md5.c\nnginx-1.15.8/src/core/ngx_md5.h\nnginx-1.15.8/src/core/ngx_module.c\nnginx-1.15.8/src/core/ngx_module.h\nnginx-1.15.8/src/core/ngx_murmurhash.c\nnginx-1.15.8/src/core/ngx_murmurhash.h\nnginx-1.15.8/src/core/ngx_open_file_cache.c\nnginx-1.15.8/src/core/ngx_open_file_cache.h\nnginx-1.15.8/src/core/ngx_output_chain.c\nnginx-1.15.8/src/core/ngx_palloc.c\nnginx-1.15.8/src/core/ngx_palloc.h\nnginx-1.15.8/src/core/ngx_parse.c\nnginx-1.15.8/src/core/ngx_parse.h\nnginx-1.15.8/src/core/ngx_parse_time.c\nnginx-1.15.8/src/core/ngx_queue.c\nnginx-1.15.8/src/core/ngx_parse_time.h\nnginx-1.15.8/src/core/ngx_proxy_protocol.c\nnginx-1.15.8/src/core/ngx_proxy_protocol.h\nnginx-1.15.8/src/core/ngx_queue.h\nnginx-1.15.8/src/core/ngx_radix_tree.c\nnginx-1.15.8/src/core/ngx_radix_tree.h\nnginx-1.15.8/src/core/ngx_rbtree.c\nnginx-1.15.8/src/core/ngx_rbtree.h\nnginx-1.15.8/src/core/ngx_regex.c\nnginx-1.15.8/src/core/ngx_regex.h\nnginx-1.15.8/src/core/ngx_resolver.c\nnginx-1.15.8/src/core/ngx_resolver.h\nnginx-1.15.8/src/core/ngx_rwlock.c\nnginx-1.15.8/src/core/ngx_rwlock.h\nnginx-1.15.8/src/core/ngx_sha1.c\nnginx-1.15.8/src/core/ngx_sha1.h\nnginx-1.15.8/src/core/ngx_shmtx.c\nnginx-1.15.8/src/core/ngx_shmtx.h\nnginx-1.15.8/src/core/ngx_slab.c\nnginx-1.15.8/src/core/ngx_slab.h\nnginx-1.15.8/src/core/ngx_spinlock.c\nnginx-1.15.8/src/core/ngx_string.c\nnginx-1.15.8/src/core/ngx_string.h\nnginx-1.15.8/src/core/ngx_syslog.c\nnginx-1.15.8/src/core/ngx_syslog.h\nnginx-1.15.8/src/core/ngx_thread_pool.c\nnginx-1.15.8/src/core/ngx_thread_pool.h\nnginx-1.15.8/src/core/ngx_times.c\nnginx-1.15.8/src/core/ngx_times.h\nnginx-1.15.8/contrib/README\nnginx-1.15.8/contrib/geo2nginx.pl\nnginx-1.15.8/contrib/unicode2nginx/\nnginx-1.15.8/contrib/vim/\nnginx-1.15.8/contrib/vim/ftdetect/\nnginx-1.15.8/contrib/vim/ftplugin/\nnginx-1.15.8/contrib/vim/indent/\nnginx-1.15.8/contrib/vim/syntax/\nnginx-1.15.8/contrib/vim/syntax/nginx.vim\nnginx-1.15.8/contrib/vim/indent/nginx.vim\nnginx-1.15.8/contrib/vim/ftplugin/nginx.vim\nnginx-1.15.8/contrib/vim/ftdetect/nginx.vim\nnginx-1.15.8/contrib/unicode2nginx/koi-utf\nnginx-1.15.8/contrib/unicode2nginx/unicode-to-nginx.pl\nnginx-1.15.8/contrib/unicode2nginx/win-utf\nnginx-1.15.8/conf/fastcgi.conf\nnginx-1.15.8/conf/fastcgi_params\nnginx-1.15.8/conf/koi-utf\nnginx-1.15.8/conf/koi-win\nnginx-1.15.8/conf/mime.types\nnginx-1.15.8/conf/nginx.conf\nnginx-1.15.8/conf/scgi_params\nnginx-1.15.8/conf/uwsgi_params\nnginx-1.15.8/conf/win-utf\nnginx-1.15.8/auto/cc/\nnginx-1.15.8/auto/define\nnginx-1.15.8/auto/endianness\nnginx-1.15.8/auto/feature\nnginx-1.15.8/auto/have\nnginx-1.15.8/auto/have_headers\nnginx-1.15.8/auto/headers\nnginx-1.15.8/auto/include\nnginx-1.15.8/auto/init\nnginx-1.15.8/auto/install\nnginx-1.15.8/auto/lib/\nnginx-1.15.8/auto/make\nnginx-1.15.8/auto/module\nnginx-1.15.8/auto/modules\nnginx-1.15.8/auto/nohave\nnginx-1.15.8/auto/options\nnginx-1.15.8/auto/os/\nnginx-1.15.8/auto/sources\nnginx-1.15.8/auto/stubs\nnginx-1.15.8/auto/summary\nnginx-1.15.8/auto/threads\nnginx-1.15.8/auto/types/\nnginx-1.15.8/auto/unix\nnginx-1.15.8/auto/types/sizeof\nnginx-1.15.8/auto/types/typedef\nnginx-1.15.8/auto/types/uintptr_t\nnginx-1.15.8/auto/types/value\nnginx-1.15.8/auto/os/conf\nnginx-1.15.8/auto/os/darwin\nnginx-1.15.8/auto/os/freebsd\nnginx-1.15.8/auto/os/linux\nnginx-1.15.8/auto/os/solaris\nnginx-1.15.8/auto/os/win32\nnginx-1.15.8/auto/lib/conf\nnginx-1.15.8/auto/lib/geoip/\nnginx-1.15.8/auto/lib/google-perftools/\nnginx-1.15.8/auto/lib/libatomic/\nnginx-1.15.8/auto/lib/libgd/\nnginx-1.15.8/auto/lib/libxslt/\nnginx-1.15.8/auto/lib/make\nnginx-1.15.8/auto/lib/openssl/\nnginx-1.15.8/auto/lib/pcre/\nnginx-1.15.8/auto/lib/perl/\nnginx-1.15.8/auto/lib/zlib/\nnginx-1.15.8/auto/lib/zlib/conf\nnginx-1.15.8/auto/lib/zlib/make\nnginx-1.15.8/auto/lib/zlib/makefile.bcc\nnginx-1.15.8/auto/lib/zlib/makefile.msvc\nnginx-1.15.8/auto/lib/zlib/makefile.owc\nnginx-1.15.8/auto/lib/perl/conf\nnginx-1.15.8/auto/lib/perl/make\nnginx-1.15.8/auto/lib/pcre/conf\nnginx-1.15.8/auto/lib/pcre/make\nnginx-1.15.8/auto/lib/pcre/makefile.bcc\nnginx-1.15.8/auto/lib/pcre/makefile.msvc\nnginx-1.15.8/auto/lib/pcre/makefile.owc\nnginx-1.15.8/auto/lib/openssl/conf\nnginx-1.15.8/auto/lib/openssl/make\nnginx-1.15.8/auto/lib/openssl/makefile.bcc\nnginx-1.15.8/auto/lib/openssl/makefile.msvc\nnginx-1.15.8/auto/lib/libxslt/conf\nnginx-1.15.8/auto/lib/libgd/conf\nnginx-1.15.8/auto/lib/libatomic/conf\nnginx-1.15.8/auto/lib/libatomic/make\nnginx-1.15.8/auto/lib/google-perftools/conf\nnginx-1.15.8/auto/lib/geoip/conf\nnginx-1.15.8/auto/cc/acc\nnginx-1.15.8/auto/cc/bcc\nnginx-1.15.8/auto/cc/ccc\nnginx-1.15.8/auto/cc/clang\nnginx-1.15.8/auto/cc/conf\nnginx-1.15.8/auto/cc/gcc\nnginx-1.15.8/auto/cc/icc\nnginx-1.15.8/auto/cc/msvc\nnginx-1.15.8/auto/cc/name\nnginx-1.15.8/auto/cc/owc\nnginx-1.15.8/auto/cc/sunc\n```\n\n- También descargamos el codigo fuente de las dependencias oblitagorias:\n\n```shell\njoseju@joseju:~/nginx/dep$ wget https://www.openssl.org/source/openssl-1.1.1a.tar.gz && tar xzvf openssl-1.1.1a.tar.gz\n--2022-11-29 21:28:30-- https://www.openssl.org/source/openssl-1.1.1a.tar.gz\nResolviendo www.openssl.org (www.openssl.org)... 184.25.37.154, 2a02:26f0:dd:497::c1e, 2a02:26f0:dd:49b::c1e\nConectando con www.openssl.org (www.openssl.org)[184.25.37.154]:443... conectado.\nPetición HTTP enviada, esperando respuesta... 200 OK\nLongitud: 8350547 (8,0M) [application/x-gzip]\nGrabando a: «openssl-1.1.1a.tar.gz»\n\nopenssl-1.1.1a.tar.gz 100%[=====================================>] 7,96M 2,24MB/s en 3,7s \n\n2022-11-29 21:28:35 (2,18 MB/s) - «openssl-1.1.1a.tar.gz» guardado [8350547/8350547]\n```\n\n- Accedemos al directorio a compilar y copiamos el manual al directorio /usr/share:\n\n```shell\njoseju@joseju:~/nginx$ sudo cp nginx-1.15.8/man/nginx.8 /usr/share/man/man8\njoseju@joseju:~/nginx$ sudo gzip /usr/share/man/man8/nginx.8 \njoseju@joseju:~/nginx$ ls /usr/share/man/man8 | egrep nginx.8.gz\nnginx.8.gz\n```\n\n- Hecho esto, creamos el makefile:\n\n```shell\njoseju@joseju:~/nginx/nginx-1.15.8$ ./configure --prefix=/etc/nginx \\\n --sbin-path=/usr/sbin/nginx \\\n --modules-path=/usr/lib/nginx/modules \\\n --conf-path=/etc/nginx/nginx.conf \\\n --error-log-path=/var/log/nginx/error.log \\\n --pid-path=/var/run/nginx.pid \\\n --lock-path=/var/run/nginx.lock \\\n --user=nginx \\\n --group=nginx \\\n --build=Debian \\\n --builddir=nginx-1.15.8 \\\n --with-select_module \\\n --with-poll_module \\\n --with-threads \\\n --with-file-aio \\\n --with-http_ssl_module \\\n --with-http_v2_module \\\n --with-http_realip_module \\\n --with-http_addition_module \\\n --with-http_xslt_module=dynamic \\\n --with-http_image_filter_module=dynamic \\\n --with-http_geoip_module=dynamic \\\n --with-http_sub_module \\\n --with-http_dav_module \\\n --with-http_flv_module \\\n --with-http_mp4_module \\\n --with-http_gunzip_module \\\n --with-debugsl-opt=no-nextprotoneg \\ \\/scgi_temp \\ \\mp \\p \\\nchecking for OS\n + Linux 5.10.0-19-amd64 x86_64\nchecking for C compiler ... found\n + using GNU C compiler\n + gcc version: 10.2.1 20210110 (Debian 10.2.1-6) \nchecking for gcc -pipe switch ... found\nchecking for -Wl,-E switch ... found\nchecking for gcc builtin atomic operations ... found\nchecking for C99 variadic macros ... found\nchecking for gcc variadic macros ... found\nchecking for gcc builtin 64 bit byteswap ... found\nchecking for unistd.h ... found\nchecking for inttypes.h ... found\nchecking for limits.h ... found\nchecking for sys/filio.h ... not found\nchecking for sys/param.h ... found\nchecking for sys/mount.h ... found\nchecking for sys/statvfs.h ... found\nchecking for crypt.h ... found\nchecking for Linux specific features\nchecking for epoll ... found\nchecking for EPOLLRDHUP ... found\nchecking for EPOLLEXCLUSIVE ... found\nchecking for O_PATH ... found\nchecking for sendfile() ... found\nchecking for sendfile64() ... found\nchecking for sys/prctl.h ... found\nchecking for prctl(PR_SET_DUMPABLE) ... found\nchecking for prctl(PR_SET_KEEPCAPS) ... found\nchecking for capabilities ... found\nchecking for crypt_r() ... found\nchecking for sys/vfs.h ... found\nchecking for poll() ... found\nchecking for /dev/poll ... not found\nchecking for kqueue ... not found\nchecking for crypt() ... not found\nchecking for crypt() in libcrypt ... found\nchecking for F_READAHEAD ... not found\nchecking for posix_fadvise() ... found\nchecking for O_DIRECT ... found\nchecking for F_NOCACHE ... not found\nchecking for directio() ... not found\nchecking for statfs() ... found\nchecking for statvfs() ... found\nchecking for dlopen() ... not found\nchecking for dlopen() in libdl ... found\nchecking for sched_yield() ... found\nchecking for sched_setaffinity() ... found\nchecking for SO_SETFIB ... not found\nchecking for SO_REUSEPORT ... found\nchecking for SO_ACCEPTFILTER ... not found\nchecking for SO_BINDANY ... not found\nchecking for IP_TRANSPARENT ... found\nchecking for IP_BINDANY ... not found\nchecking for IP_BIND_ADDRESS_NO_PORT ... found\nchecking for IP_RECVDSTADDR ... not found\nchecking for IP_SENDSRCADDR ... not found\nchecking for IP_PKTINFO ... found\nchecking for IPV6_RECVPKTINFO ... found\nchecking for TCP_DEFER_ACCEPT ... found\nchecking for TCP_KEEPIDLE ... found\nchecking for TCP_FASTOPEN ... found\nchecking for TCP_INFO ... found\nchecking for accept4() ... found\nchecking for kqueue AIO support ... not found\nchecking for Linux AIO support ... found\nchecking for int size ... 4 bytes\nchecking for long size ... 8 bytes\nchecking for long long size ... 8 bytes\nchecking for void * size ... 8 bytes\nchecking for uint32_t ... found\nchecking for uint64_t ... found\nchecking for sig_atomic_t ... found\nchecking for sig_atomic_t size ... 4 bytes\nchecking for socklen_t ... found\nchecking for in_addr_t ... found\nchecking for in_port_t ... found\nchecking for rlim_t ... found\nchecking for uintptr_t ... uintptr_t found\nchecking for system byte ordering ... little endian\nchecking for size_t size ... 8 bytes\nchecking for off_t size ... 8 bytes\nchecking for time_t size ... 8 bytes\nchecking for AF_INET6 ... found\nchecking for setproctitle() ... not found\nchecking for pread() ... found\nchecking for pwrite() ... found\nchecking for pwritev() ... found\nchecking for sys_nerr ... found\nchecking for localtime_r() ... found\nchecking for clock_gettime(CLOCK_MONOTONIC) ... found\nchecking for posix_memalign() ... found\nchecking for memalign() ... found\nchecking for mmap(MAP_ANON|MAP_SHARED) ... found\nchecking for mmap(\"/dev/zero\", MAP_SHARED) ... found\nchecking for System V shared memory ... found\nchecking for POSIX semaphores ... not found\nchecking for POSIX semaphores in libpthread ... found\nchecking for struct msghdr.msg_control ... found\nchecking for ioctl(FIONBIO) ... found\nchecking for struct tm.tm_gmtoff ... found\nchecking for struct dirent.d_namlen ... not found\nchecking for struct dirent.d_type ... found\nchecking for sysconf(_SC_NPROCESSORS_ONLN) ... found\nchecking for sysconf(_SC_LEVEL1_DCACHE_LINESIZE) ... found\nchecking for openat(), fstatat() ... found\nchecking for getaddrinfo() ... found\nchecking for libxslt ... found\nchecking for libexslt ... found\nchecking for GD library ... found\nchecking for GD WebP support ... found\nchecking for perl\n + perl version: This is perl 5, version 32, subversion 1 (v5.32.1) built for x86_64-linux-gnu-thread-multi\n + perl interpreter multiplicity found\nchecking for GeoIP library ... found\nchecking for GeoIP IPv6 support ... found\ncreating nginx-1.15.8/Makefile\n\nConfiguration summary\n + using threads\n + using PCRE library: ../dep/pcre-8.42\n + using OpenSSL library: ../dep/openssl-1.1.1a\n + using zlib library: ../dep/zlib-1.2.13\n\n nginx path prefix: \"/etc/nginx\"\n nginx binary file: \"/usr/sbin/nginx\"\n nginx modules path: \"/usr/lib/nginx/modules\"\n nginx configuration prefix: \"/etc/nginx\"\n nginx configuration file: \"/etc/nginx/nginx.conf\"\n nginx pid file: \"/var/run/nginx.pid\"\n nginx error log file: \"/var/log/nginx/error.log\"\n nginx http access log file: \"/var/log/nginx/access.log\"\n nginx http client request body temporary files: \"/var/cache/nginx/client_temp\"\n nginx http proxy temporary files: \"/var/cache/nginx/proxy_temp\"\n nginx http fastcgi temporary files: \"/var/cache/nginx/fastcgi_temp\"\n nginx http uwsgi temporary files: \"/var/cache/nginx/uwsgi_temp\"\n nginx http scgi temporary files: \"/var/cache/nginx/scgi_temp\"\n```\n\n- Compilamos el programa:\n\n```shell\njoseju@joseju:~/nginx/nginx-1.15.8$ make\nmake -f nginx-1.15.8/Makefile\nmake[1]: se entra en el directorio '/home/joseju/nginx/nginx-1.15.8'\ncd ../dep/pcre-8.42 \\\n&& if [ -f Makefile ]; then make distclean; fi \\\n&& CC=\"cc\" CFLAGS=\"-O2 -fomit-frame-pointer -pipe \" \\\n./configure --disable-shared --enable-jit\nchecking for a BSD-compatible install... /usr/bin/install -c\nchecking whether build environment is sane... yes\nchecking for a thread-safe mkdir -p... /usr/bin/mkdir -p\nchecking for gawk... gawk\nchecking whether make sets $(MAKE)... yes\nchecking whether make supports nested variables... yes\nchecking whether make supports nested variables... (cached) yes\nchecking for style of include used by make... GNU\nchecking for gcc... cc\nchecking whether the C compiler works... yes\nchecking for C compiler default output file name... a.out\nchecking for suffix of executables... \nchecking whether we are cross compiling... no\nchecking for suffix of object files... o\nchecking whether we are using the GNU C compiler... yes\nchecking whether cc accepts -g... yes\nchecking for cc option to accept ISO C89... none needed\nchecking whether cc understands -c and -o together... yes\nchecking dependency style of cc... gcc3\nchecking for ar... ar\n\njoseju@joseju:~/nginx/nginx-1.15.8$ sudo make install\nmake -f nginx-1.15.8/Makefile install\nmake[1]: se entra en el directorio '/home/joseju/nginx/nginx-1.15.8'\ncd nginx-1.15.8/src/http/modules/perl && make install\nmake[2]: se entra en el directorio '/home/joseju/nginx/nginx-1.15.8/nginx-1.15.8/src/http/modules/perl'\n\"/usr/bin/perl\" -MExtUtils::Command::MM -e 'cp_nonempty' -- nginx.bs blib/arch/auto/nginx/nginx.bs 644\nManifying 1 pod document\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nInstalling /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/auto/nginx/nginx.so\nInstalling /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/nginx.pm\nInstalling /usr/share/perl/5.24.1/man3/nginx.3pm\nAppending installation info to /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/perllocal.pod\nmake[2]: se sale del directorio '/home/joseju/nginx/nginx-1.15.8/nginx-1.15.8/src/http/modules/perl'\ntest -d '/etc/nginx' || mkdir -p '/etc/nginx'\ntest -d '/usr/sbin' \\\n\t|| mkdir -p '/usr/sbin'\ntest ! -f '/usr/sbin/nginx' \\\n\t|| mv '/usr/sbin/nginx' \\\n\t\t'/usr/sbin/nginx.old'\ncp nginx-1.15.8/nginx '/usr/sbin/nginx'\ntest -d '/etc/nginx' \\\n\t|| mkdir -p '/etc/nginx'\ncp conf/koi-win '/etc/nginx'\ncp conf/koi-utf '/etc/nginx'\ncp conf/win-utf '/etc/nginx'\ntest -f '/etc/nginx/mime.types' \\\n\t|| cp conf/mime.types '/etc/nginx'\ncp conf/mime.types '/etc/nginx/mime.types.default'\ntest -f '/etc/nginx/fastcgi_params' \\\n\t|| cp conf/fastcgi_params '/etc/nginx'\ncp conf/fastcgi_params \\\n\t'/etc/nginx/fastcgi_params.default'\ntest -f '/etc/nginx/fastcgi.conf' \\\n\t|| cp conf/fastcgi.conf '/etc/nginx'\ncp conf/fastcgi.conf '/etc/nginx/fastcgi.conf.default'\ntest -f '/etc/nginx/uwsgi_params' \\\n\t|| cp conf/uwsgi_params '/etc/nginx'\ncp conf/uwsgi_params \\\n\t'/etc/nginx/uwsgi_params.default'\ntest -f '/etc/nginx/scgi_params' \\\n\t|| cp conf/scgi_params '/etc/nginx'\ncp conf/scgi_params \\\n\t'/etc/nginx/scgi_params.default'\ntest -f '/etc/nginx/nginx.conf' \\\n\t|| cp conf/nginx.conf '/etc/nginx/nginx.conf'\ncp conf/nginx.conf '/etc/nginx/nginx.conf.default'\ntest -d '/var/run' \\\n\t|| mkdir -p '/var/run'\ntest -d '/var/log/nginx' \\\n\t|| mkdir -p '/var/log/nginx'\ntest -d '/etc/nginx/html' \\\n\t|| cp -R html '/etc/nginx'\ntest -d '/var/log/nginx' \\\n\t|| mkdir -p '/var/log/nginx'\ntest -d '/usr/lib/nginx/modules' \\\n\t|| mkdir -p '/usr/lib/nginx/modules'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so.old'\ncp nginx-1.15.8/ngx_http_xslt_filter_module.so '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_image_filter_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_image_filter_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_image_filter_module.so.old'\ncp nginx-1.15.8/ngx_http_image_filter_module.so '/usr/lib/nginx/modules/ngx_http_image_filter_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_geoip_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_geoip_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_geoip_module.so.old'\ncp nginx-1.15.8/ngx_http_geoip_module.so '/usr/lib/nginx/modules/ngx_http_geoip_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_perl_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_perl_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_perl_module.so.old'\ncp nginx-1.15.8/ngx_http_perl_module.so '/usr/lib/nginx/modules/ngx_http_perl_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_stream_geoip_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_stream_geoip_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_stream_geoip_module.so.old'\ncp nginx-1.15.8/ngx_stream_geoip_module.so '/usr/lib/nginx/modules/ngx_stream_geoip_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_mail_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_mail_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_mail_module.so.old'\ncp nginx-1.15.8/ngx_mail_module.so '/usr/lib/nginx/modules/ngx_mail_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_stream_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_stream_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_stream_module.so.old'\ncp nginx-1.15.8/ngx_stream_module.so '/usr/lib/nginx/modules/ngx_stream_module.so'\nmake[1]: se sale del directorio '/home/joseju/nginx/nginx-1.15.8'\n```\n\n- Instalamos:\n\n```shell\njoseju@joseju:~/nginx/nginx-1.15.8$ sudo make install\nmake -f nginx-1.15.8/Makefile install\nmake[1]: se entra en el directorio '/home/joseju/nginx/nginx-1.15.8'\ncd nginx-1.15.8/src/http/modules/perl && make install\nmake[2]: se entra en el directorio '/home/joseju/nginx/nginx-1.15.8/nginx-1.15.8/src/http/modules/perl'\n\"/usr/bin/perl\" -MExtUtils::Command::MM -e 'cp_nonempty' -- nginx.bs blib/arch/auto/nginx/nginx.bs 644\nManifying 1 pod document\nFiles found in blib/arch: installing files in blib/lib into architecture dependent library tree\nInstalling /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/auto/nginx/nginx.so\nInstalling /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/nginx.pm\nInstalling /usr/share/perl/5.24.1/man3/nginx.3pm\nAppending installation info to /usr/share/perl/5.24.1/x86_64-linux-gnu-thread-multi/perllocal.pod\nmake[2]: se sale del directorio '/home/joseju/nginx/nginx-1.15.8/nginx-1.15.8/src/http/modules/perl'\ntest -d '/etc/nginx' || mkdir -p '/etc/nginx'\ntest -d '/usr/sbin' \\\n\t|| mkdir -p '/usr/sbin'\ntest ! -f '/usr/sbin/nginx' \\\n\t|| mv '/usr/sbin/nginx' \\\n\t\t'/usr/sbin/nginx.old'\ncp nginx-1.15.8/nginx '/usr/sbin/nginx'\ntest -d '/etc/nginx' \\\n\t|| mkdir -p '/etc/nginx'\ncp conf/koi-win '/etc/nginx'\ncp conf/koi-utf '/etc/nginx'\ncp conf/win-utf '/etc/nginx'\ntest -f '/etc/nginx/mime.types' \\\n\t|| cp conf/mime.types '/etc/nginx'\ncp conf/mime.types '/etc/nginx/mime.types.default'\ntest -f '/etc/nginx/fastcgi_params' \\\n\t|| cp conf/fastcgi_params '/etc/nginx'\ncp conf/fastcgi_params \\\n\t'/etc/nginx/fastcgi_params.default'\ntest -f '/etc/nginx/fastcgi.conf' \\\n\t|| cp conf/fastcgi.conf '/etc/nginx'\ncp conf/fastcgi.conf '/etc/nginx/fastcgi.conf.default'\ntest -f '/etc/nginx/uwsgi_params' \\\n\t|| cp conf/uwsgi_params '/etc/nginx'\ncp conf/uwsgi_params \\\n\t'/etc/nginx/uwsgi_params.default'\ntest -f '/etc/nginx/scgi_params' \\\n\t|| cp conf/scgi_params '/etc/nginx'\ncp conf/scgi_params \\\n\t'/etc/nginx/scgi_params.default'\ntest -f '/etc/nginx/nginx.conf' \\\n\t|| cp conf/nginx.conf '/etc/nginx/nginx.conf'\ncp conf/nginx.conf '/etc/nginx/nginx.conf.default'\ntest -d '/var/run' \\\n\t|| mkdir -p '/var/run'\ntest -d '/var/log/nginx' \\\n\t|| mkdir -p '/var/log/nginx'\ntest -d '/etc/nginx/html' \\\n\t|| cp -R html '/etc/nginx'\ntest -d '/var/log/nginx' \\\n\t|| mkdir -p '/var/log/nginx'\ntest -d '/usr/lib/nginx/modules' \\\n\t|| mkdir -p '/usr/lib/nginx/modules'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so.old'\ncp nginx-1.15.8/ngx_http_xslt_filter_module.so '/usr/lib/nginx/modules/ngx_http_xslt_filter_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_image_filter_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_image_filter_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_image_filter_module.so.old'\ncp nginx-1.15.8/ngx_http_image_filter_module.so '/usr/lib/nginx/modules/ngx_http_image_filter_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_geoip_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_geoip_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_geoip_module.so.old'\ncp nginx-1.15.8/ngx_http_geoip_module.so '/usr/lib/nginx/modules/ngx_http_geoip_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_http_perl_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_http_perl_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_http_perl_module.so.old'\ncp nginx-1.15.8/ngx_http_perl_module.so '/usr/lib/nginx/modules/ngx_http_perl_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_stream_geoip_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_stream_geoip_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_stream_geoip_module.so.old'\ncp nginx-1.15.8/ngx_stream_geoip_module.so '/usr/lib/nginx/modules/ngx_stream_geoip_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_mail_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_mail_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_mail_module.so.old'\ncp nginx-1.15.8/ngx_mail_module.so '/usr/lib/nginx/modules/ngx_mail_module.so'\ntest ! -f '/usr/lib/nginx/modules/ngx_stream_module.so' \\\n\t|| mv '/usr/lib/nginx/modules/ngx_stream_module.so' \\\n\t\t'/usr/lib/nginx/modules/ngx_stream_module.so.old'\ncp nginx-1.15.8/ngx_stream_module.so '/usr/lib/nginx/modules/ngx_stream_module.so'\nmake[1]: se sale del directorio '/home/joseju/nginx/nginx-1.15.8'\n```\n\n- Comprobamos la versión de nginx para ver si se ha instalado:\n\n```shell\njoseju@joseju:~$ sudo nginx -V\nnginx version: nginx/1.15.8 (Debian)\nbuilt by gcc 10.2.1 20210110 (Debian 10.2.1-6) \nbuilt with OpenSSL 1.1.1a 20 Nov 2018\nTLS SNI support enabled\nconfigure arguments: --prefix=/etc/nginx --sbin-path=/usr/sbin/nginx --modules-path=/usr/lib/nginx/modules --conf-path=/etc/nginx/nginx.conf --error-log-path=/var/log/nginx/error.log --pid-path=/var/run/nginx.pid --lock-path=/var/run/nginx.lock --user=nginx --group=nginx --build=Debian --builddir=nginx-1.15.8 --with-select_module --with-poll_module --with-threads --with-file-aio --with-http_ssl_module --with-http_v2_module --with-http_realip_module --with-http_addition_module --with-http_xslt_module=dynamic --with-http_image_filter_module=dynamic --with-http_geoip_module=dynamic --with-http_sub_module --with-http_dav_module --with-http_flv_module --with-http_mp4_module --with-http_gunzip_module --with-http_gzip_static_module --with-http_auth_request_module --with-http_random_index_module --with-http_secure_link_module --with-http_degradation_module --with-http_slice_module --with-http_stub_status_module --with-http_perl_module=dynamic --with-perl_modules_path=/usr/share/perl/5.24.1 --with-perl=/usr/bin/perl --http-log-path=/var/log/nginx/access.log --http-client-body-temp-path=/var/cache/nginx/client_temp --http-proxy-temp-path=/var/cache/nginx/proxy_temp --http-fastcgi-temp-path=/var/cache/nginx/fastcgi_temp --http-uwsgi-temp-path=/var/cache/nginx/uwsgi_temp --http-scgi-temp-path=/var/cache/nginx/scgi_temp --with-mail=dynamic --with-mail_ssl_module --with-stream=dynamic --with-stream_ssl_module --with-stream_realip_module --with-stream_geoip_module=dynamic --with-stream_ssl_preread_module --with-compat --with-pcre=../dep/pcre-8.42 --with-pcre-jit --with-zlib=../dep/zlib-1.2.13 --with-openssl=../dep/openssl-1.1.1a --with-openssl-opt=no-nextprotoneg --with-debug\n```\n\n### Desisntalación\n\nPara realizar la desistalación hacemos lo siguiente:\n\n- Elimininamos el directorio donde está instalado y el manual:\n\n```shell\njoseju@joseju:~/nginx$ ls\ndep nginx-1.15.8\njoseju@joseju:~/nginx$ rm -fr *\njoseju@joseju:~/nginx$ ls\njoseju@joseju:~/nginx$ sudo rm /usr/share/man/man8/nginx.8.gz\n```\n\n- Comprobamos la versión del paquete para ver si está eliminado: \n\n```shell\njoseju@joseju:~$ sudo nginx -V\nsudo: nginx: command not found\n```","dir":"/sistemas/","name":"programac.md","path":"sistemas/programac.md","url":"/sistemas/programac.html"}]